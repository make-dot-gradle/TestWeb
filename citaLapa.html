<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="css/style.css" rel="stylesheet" type="text/css">
    <title>Formas</title>
    <script>
      function invertColor(color) {
	      let r = color.slice(1, 3);
	      let g = color.slice(3, 5);
	      let b = color.slice(5, 7);
	      // let's hope some genius hasn't added RGBA to their browser
	      return "#" + [r, g, b].map(x => (255 - parseInt(x, 16)).toString(16).padStart(2, "0")).join("");
	      // this doesn't work for all colors, presumably because
	      // naive color transformations generally don't work that
	      // well with RGB. But - it's good enough.
      }
      function applyColor() {
              let color = document.getElementById("color").value;
	      let bg = document.getElementById("background");
              bg.style.backgroundColor = color;
	      bg.style.color = invertColor(color)
	      bg.innerHTML = "Krāsa nomainīta!";
      }
    </script>
  </head>
  <body>
    <iframe id="header-embed" src="header.html"></iframe>
    <div class="content">
      <form>
	<div id="background" style="background-color:lightgrey; color: black;">Izvēlies krāsu!</div>
	<input type="color" id="color" value="#00ff00" onchange="applyColor();">
      </form>
    </div>
  </body>
</html>
